{"ast":null,"code":"import React,{useState}from\"react\";import Navbar from\"../../component/navbar/navbar\";import Footer from\"../../component/footer/footer\";import{useLocation,useNavigate}from\"react-router-dom\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faStar as solidStar}from'@fortawesome/free-solid-svg-icons';import{faStar as regularStar}from'@fortawesome/free-regular-svg-icons';import'./display.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDisplay(){var _location$state,_cart$find;const location=useLocation();const product=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.product)||{};const navigate=useNavigate();const rating=Math.floor(Math.random()*5)+1;const stars=Array.from({length:5},(v,i)=>i<rating?solidStar:regularStar);// Initialize cart state from localStorage\nconst loadCart=()=>JSON.parse(localStorage.getItem(\"cart\"))||[];const[cart,setCart]=useState(loadCart());const updateCart=newCart=>{setCart(newCart);localStorage.setItem(\"cart\",JSON.stringify(newCart));};const increaseQuantity=()=>{const updatedCart=cart.map(item=>item.name===product.name?{...item,quantity:item.quantity+1}:item);updateCart(updatedCart);};const decreaseQuantity=()=>{const updatedCart=cart.map(item=>item.name===product.name&&item.quantity>1?{...item,quantity:item.quantity-1}:item);updateCart(updatedCart);};// Navigate to checkout page\nconst handleCheckout=()=>{const existingProduct=cart.find(item=>item.name===product.name);let updatedCart;if(existingProduct){// Update the quantity of the existing product\nupdatedCart=cart.map(item=>item.name===product.name?{...item,quantity:item.quantity+1}:item);}else{// Add the new product to the cart\nupdatedCart=[...cart,{...product,quantity:1}];}updateCart(updatedCart);navigate(\"/checkout\");};return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"section\",{className:\"product-section my-4 container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-wrapper p-4 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image \",children:/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-text mt-4 mt-md-0 \",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",typeof product.price==='number'?product.price.toFixed(2):'N/A']}),/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:stars.map((star,index)=>/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:star,className:\"star\"},index))}),/*#__PURE__*/_jsx(\"p\",{children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-1\",onClick:decreaseQuantity,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:((_cart$find=cart.find(item=>item.name===product.name))===null||_cart$find===void 0?void 0:_cart$find.quantity)||1}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-1\",onClick:increaseQuantity,children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pickup available within liverpool\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Usually ready in 24 Hours\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleCheckout,children:\"Proceed to Checkout\"})]})]})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}","map":{"version":3,"names":["React","useState","Navbar","Footer","useLocation","useNavigate","FontAwesomeIcon","faStar","solidStar","regularStar","jsx","_jsx","jsxs","_jsxs","ProductDisplay","_location$state","_cart$find","location","product","state","navigate","rating","Math","floor","random","stars","Array","from","length","v","i","loadCart","JSON","parse","localStorage","getItem","cart","setCart","updateCart","newCart","setItem","stringify","increaseQuantity","updatedCart","map","item","name","quantity","decreaseQuantity","handleCheckout","existingProduct","find","children","className","src","img","alt","price","toFixed","star","index","icon","onClick"],"sources":["/Users/touchbar/Documents/GitHub/foodstuff-website/src/pages/productdisplay/display.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"../../component/navbar/navbar\";\nimport Footer from \"../../component/footer/footer\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar as solidStar } from '@fortawesome/free-solid-svg-icons';\nimport { faStar as regularStar } from '@fortawesome/free-regular-svg-icons';\nimport './display.css';\n\nexport default function ProductDisplay() {\n    const location = useLocation();\n    const product = location.state?.product || {};\n    const navigate = useNavigate();\n    \n\n    const rating = Math.floor(Math.random() * 5) + 1;\n    const stars = Array.from({ length: 5 }, (v, i) => (i < rating ? solidStar : regularStar));\n    // Initialize cart state from localStorage\n    const loadCart = () => JSON.parse(localStorage.getItem(\"cart\")) || [];\n    const [cart, setCart] = useState(loadCart());\n\n    const updateCart = (newCart) => {\n        setCart(newCart);\n        localStorage.setItem(\"cart\", JSON.stringify(newCart));\n    };\n\n    const increaseQuantity = () => {\n        const updatedCart = cart.map((item) =>\n            item.name === product.name ? { ...item, quantity: item.quantity + 1 } : item\n        );\n        updateCart(updatedCart);\n    };\n\n    const decreaseQuantity = () => {\n        const updatedCart = cart.map((item) =>\n            item.name === product.name && item.quantity > 1\n                ? { ...item, quantity: item.quantity - 1 }\n                : item\n        );\n        updateCart(updatedCart);\n    };\n\n    // Navigate to checkout page\n    const handleCheckout = () => {\n        const existingProduct = cart.find(item => item.name === product.name);\n\n        let updatedCart;\n        if (existingProduct) {\n            // Update the quantity of the existing product\n            updatedCart = cart.map(item =>\n                item.name === product.name\n                    ? { ...item, quantity: item.quantity + 1 }\n                    : item\n            );\n        } else {\n            // Add the new product to the cart\n            updatedCart = [...cart, { ...product, quantity: 1 }];\n        }\n    \n        updateCart(updatedCart);\n        navigate(\"/checkout\");\n    };\n\n    return (\n        <main>\n            <section>\n                <Navbar />\n            </section>\n            <section className=\"product-section my-4 container\">\n           \n                    <div className=\"product-wrapper p-4 \">\n                        <div className=\"product-image \">\n                            <img src={product.img}  alt={product.name} />\n                        </div>\n                        <div className=\"product-text mt-4 mt-md-0 \">\n                            <h1>{product.name}</h1>\n                            <span>${typeof product.price === 'number' ? product.price.toFixed(2) : 'N/A'}</span>\n                            <div className=\"rating\">\n                                {stars.map((star, index) => (\n                                    <FontAwesomeIcon key={index} icon={star} className=\"star\" />\n                                ))}\n                            </div>\n                            <p>Quantity</p>\n                            <div className=\"quantity-controls\">\n                                <button className=\"btn-1\" onClick={decreaseQuantity}>-</button>\n                                <span>{cart.find(item => item.name === product.name)?.quantity || 1}</span>\n                                <button className=\"btn-1\" onClick={increaseQuantity}>+</button>\n                            </div>\n\n                            <div className=\"reviews\">\n\n                                <p>Reviews</p>\n                                <span>Pickup available within liverpool</span>\n                                <span>Usually ready in 24 Hours</span>\n                            </div>\n                            <button className=\"btn\" onClick={handleCheckout}>Proceed to Checkout</button>\n                        </div>\n                    </div>\n         \n            </section>\n            <section>\n                <Footer />\n            </section>\n        </main>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}